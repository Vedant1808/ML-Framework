import java.io.*;
import java.util.*;
public class App
{
	public static void main(String args[])
	{
		try
		{
			if(args.length!=1)
			{
				System.out.println("Pass temperature_in_celsius as command line argument");
				return;
			}
			String inputLine; // we are expecting one line as output of teh program being executed
		        String errorLine; // or error generated by the program being executed
			String strs[]=new String[2];
			strs[0]="./CoreApp.out";
			strs[1]=args[0]; // the temperatur received as command line arguments
			Process p;
			p=Runtime.getRuntime().exec(strs);
			BufferedReader inputBufferReader;
			BufferedReader errorBufferReader;
			inputBufferReader=new BufferedReader(new InputStreamReader(p.getInputStream()));
			inputLine=inputBufferReader.readLine();
			errorBufferReader=new BufferedReader(new InputStreamReader(p.getErrorStream()));
			errorLine=errorBufferReader.readLine();
			inputBufferReader.close();
			errorBufferReader.close();
			if(inputLine!=null)
			{
				double profit=Double.parseDouble(inputLine);
				System.out.println("Expected profit in USD is : "+profit);
			}
			else if(errorLine!=null)
			{
				// you may raise exception
				System.out.println("Error : "+errorLine);
			}
			else
			{
				System.out.println("No output generated");
			}
		}catch(Exception exception)
		{
			System.out.println(exception.getMessage());
		}
	}
}
